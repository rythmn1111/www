---
import { motion } from 'motion/react'
import Button from '../components/Button.astro'
import { Astronav, MenuItems, Dropdown, DropdownItems } from 'astro-navbar'
import { ArrowRight, ChevronDown, Download, Menu } from 'lucide-astro'
import Logo from './Logo.astro'
import { getTitleAnimation } from '../animations.ts'
import ThemeSwitch from './ThemeSwitch.astro'
import MobileMenu from './MobileMenu.astro'
---

<!-- Desktop Navigation -->
<Astronav>
  <MenuItems
    class="relative z-20 mx-auto grid w-full grid-cols-2 items-center gap-2 bg-paper px-4 py-3 lg:grid lg:min-w-fit lg:grid-cols-[auto_1fr_auto] lg:p-6 xl:w-3/4"
  >
    <a class="flex items-center gap-2 text-lg font-bold" href="/">
      <Logo class="text-coral" />
      <span>AURA</span>
    </a>
    <div
      class="hidden items-center gap-6 place-self-center text-xs sm:text-sm lg:flex lg:text-base"
    >
      <!-- Removed Getting Started Dropdown -->
      <!-- Removed Useful Links Dropdown -->
      <!-- Removed Mods link -->
    </div>
    <div class="flex items-center gap-2 place-self-end lg:gap-4">
      <div id="theme-switcher">
        <ThemeSwitch label="Toggle theme" />
      </div>
      <Button href="/download" class="hidden lg:flex" isPrimary>
        <span class="hidden items-center gap-2 lg:flex">
          Download
          <ArrowRight class="size-4" />
        </span>
        <span class="flex items-center gap-2 lg:hidden">
          <Download class="size-4" />
        </span>
      </Button>
      <label
        for="mobile-menu-toggle"
        class="cursor-pointer p-2 text-dark lg:hidden"
        aria-label="Open menu"
      >
        <Menu class="h-6 w-6" />
      </label>
    </div>
  </MenuItems>
</Astronav>

<!-- Mobile Hamburger Menu Content -->
<MobileMenu />

<style>
  .navbar-dropdown {
    @apply absolute left-1/2 mt-2 grid !-translate-x-1/2 !transform grid-cols-2 gap-2 rounded-lg border-2 border-dark bg-paper p-3 shadow-sm;
    & .dropdown-item {
      @apply flex cursor-pointer select-none flex-col gap-2 rounded-lg p-4 transition-colors duration-200;

      &:hover {
        @apply bg-muted;
      }

      & .dropdown-title {
        @apply font-bold;
      }

      & .dropdown-description {
        @apply text-sm;
      }
    }
  }
</style>
<style is:global>
  #theme-switcher * {
    @apply text-dark;
  }
</style>
